{"ast":null,"code":"var _jsxFileName = \"W:\\\\Code\\\\deepseek-r1\\\\frontend\\\\src\\\\components\\\\ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { List, Avatar, Spin, Typography, Space } from 'antd';\nimport moment from 'moment';\nimport { Fade } from 'react-reveal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Text\n} = Typography;\nconst ChatWindow = ({\n  chatHistory,\n  loading\n}) => {\n  _s();\n  const endRef = useRef(null);\n  useEffect(() => {\n    var _endRef$current;\n    (_endRef$current = endRef.current) === null || _endRef$current === void 0 ? void 0 : _endRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [chatHistory, loading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '60vh',\n      overflowY: 'auto',\n      padding: '10px',\n      background: '#fff',\n      borderRadius: '5px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(List, {\n      dataSource: chatHistory,\n      renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n        style: {\n          textAlign: item.role === 'user' ? 'right' : 'left',\n          marginBottom: '12px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Fade, {\n          bottom: true,\n          children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n            avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n              style: {\n                backgroundColor: item.role === 'user' ? '#1890ff' : '#87d068',\n                color: '#fff',\n                marginLeft: item.role === 'user' ? '10px' : '0',\n                marginRight: item.role === 'user' ? '0' : '10px'\n              },\n              children: item.role === 'user' ? 'U' : 'A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 37\n            }, this),\n            title: /*#__PURE__*/_jsxDEV(Text, {\n              style: {\n                fontWeight: 'bold',\n                color: item.role === 'user' ? '#1890ff' : '#87d068'\n              },\n              children: item.role === 'user' ? '你' : 'AI'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 37\n            }, this),\n            description: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'inline-block',\n                maxWidth: '70%',\n                padding: '10px',\n                backgroundColor: item.role === 'user' ? '#e6f7ff' : '#f0f0f0',\n                borderRadius: '15px',\n                wordBreak: 'break-word',\n                fontSize: '14px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: item.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '5px',\n                  textAlign: 'right',\n                  fontSize: '12px',\n                  color: '#999'\n                },\n                children: moment(item.timestamp).format('HH:mm:ss')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        tip: \"AI \\u6B63\\u5728\\u601D\\u8003...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: endRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this);\n};\n_s(ChatWindow, \"wkzjRsewh8pSmp35FLqjNBWGCLs=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useEffect","useRef","List","Avatar","Spin","Typography","Space","moment","Fade","jsxDEV","_jsxDEV","Text","ChatWindow","chatHistory","loading","_s","endRef","_endRef$current","current","scrollIntoView","behavior","style","height","overflowY","padding","background","borderRadius","children","dataSource","renderItem","item","Item","textAlign","role","marginBottom","bottom","Meta","avatar","backgroundColor","color","marginLeft","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","title","fontWeight","description","display","maxWidth","wordBreak","fontSize","content","marginTop","timestamp","format","tip","ref","_c","$RefreshReg$"],"sources":["W:/Code/deepseek-r1/frontend/src/components/ChatWindow.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { List, Avatar, Spin, Typography, Space } from 'antd';\r\nimport moment from 'moment';\r\nimport { Fade } from 'react-reveal';\r\n\r\nconst { Text } = Typography;\r\n\r\nconst ChatWindow = ({ chatHistory, loading }) => {\r\n    const endRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        endRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [chatHistory, loading]);\r\n\r\n    return (\r\n        <div style={{ height: '60vh', overflowY: 'auto', padding: '10px', background: '#fff', borderRadius: '5px' }}>\r\n            <List\r\n                dataSource={chatHistory}\r\n                renderItem={(item) => (\r\n                    <List.Item style={{\r\n                        textAlign: item.role === 'user' ? 'right' : 'left',\r\n                        marginBottom: '12px'\r\n                    }}>\r\n                        <Fade bottom>\r\n                            <List.Item.Meta\r\n                                avatar={\r\n                                    <Avatar\r\n                                        style={{\r\n                                            backgroundColor: item.role === 'user' ? '#1890ff' : '#87d068',\r\n                                            color: '#fff',\r\n                                            marginLeft: item.role === 'user' ? '10px' : '0',\r\n                                            marginRight: item.role === 'user' ? '0' : '10px'\r\n                                        }}\r\n                                    >\r\n                                        {item.role === 'user' ? 'U' : 'A'}\r\n                                    </Avatar>\r\n                                }\r\n                                title={\r\n                                    <Text style={{\r\n                                        fontWeight: 'bold',\r\n                                        color: item.role === 'user' ? '#1890ff' : '#87d068',\r\n                                    }}>\r\n                                        {item.role === 'user' ? '你' : 'AI'}\r\n                                    </Text>\r\n                                }\r\n                                description={\r\n                                    <div style={{\r\n                                        display: 'inline-block',\r\n                                        maxWidth: '70%',\r\n                                        padding: '10px',\r\n                                        backgroundColor: item.role === 'user' ? '#e6f7ff' : '#f0f0f0',\r\n                                        borderRadius: '15px',\r\n                                        wordBreak: 'break-word',\r\n                                        fontSize: '14px',\r\n                                    }}>\r\n                                        <Text>{item.content}</Text>\r\n                                        <div style={{\r\n                                            marginTop: '5px',\r\n                                            textAlign: 'right',\r\n                                            fontSize: '12px',\r\n                                            color: '#999',\r\n                                        }}>\r\n                                            {moment(item.timestamp).format('HH:mm:ss')}\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            />\r\n                        </Fade>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n            {loading && (\r\n                <div style={{ textAlign: 'center', padding: '10px' }}>\r\n                    <Spin tip=\"AI 正在思考...\" />\r\n                </div>\r\n            )}\r\n            <div ref={endRef} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatWindow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}