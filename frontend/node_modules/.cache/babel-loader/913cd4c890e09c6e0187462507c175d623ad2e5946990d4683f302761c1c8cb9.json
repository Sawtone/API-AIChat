{"ast":null,"code":"var _jsxFileName = \"W:\\\\Code\\\\deepseek-r1\\\\frontend\\\\src\\\\components\\\\ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { List, Avatar, Spin } from 'antd';\nimport { motion } from 'framer-motion';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatWindow = ({\n  chatHistory,\n  loading\n}) => {\n  _s();\n  const endRef = useRef(null);\n  useEffect(() => {\n    var _endRef$current;\n    (_endRef$current = endRef.current) === null || _endRef$current === void 0 ? void 0 : _endRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [chatHistory, loading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '60vh',\n      overflowY: 'auto',\n      padding: '10px',\n      background: '#fff',\n      borderRadius: '5px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(List, {\n      dataSource: chatHistory,\n      renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n        style: {\n          textAlign: item.role === 'user' ? 'right' : 'left',\n          display: 'flex',\n          justifyContent: item.role === 'user' ? 'flex-end' : 'flex-start'\n        },\n        children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n          avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n            style: {\n              backgroundColor: item.role === 'user' ? '#87d068' : '#1890ff',\n              display: 'flex',\n              alignSelf: item.role === 'user' ? 'flex-end' : 'flex-start'\n            },\n            children: item.role === 'user' ? 'U' : 'AI'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 33\n          }, this),\n          title: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [item.role === 'user' ? '你' : 'AI', /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '12px',\n                color: '#888',\n                marginLeft: '8px'\n              },\n              children: moment(item.timestamp).format('HH:mm:ss')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true),\n          description: /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              x: item.role === 'user' ? 50 : -50\n            },\n            animate: {\n              opacity: 1,\n              x: 0\n            },\n            transition: {\n              type: \"spring\",\n              stiffness: 100\n            },\n            style: {\n              display: 'inline-block',\n              backgroundColor: item.role === 'user' ? '#87d068' : '#1890ff',\n              color: '#fff',\n              padding: '8px 12px',\n              borderRadius: '15px',\n              maxWidth: '80%'\n            },\n            children: item.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        tip: \"AI \\u6B63\\u5728\\u601D\\u8003...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: endRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this);\n};\n_s(ChatWindow, \"wkzjRsewh8pSmp35FLqjNBWGCLs=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useEffect","useRef","List","Avatar","Spin","motion","moment","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatWindow","chatHistory","loading","_s","endRef","_endRef$current","current","scrollIntoView","behavior","style","height","overflowY","padding","background","borderRadius","children","dataSource","renderItem","item","Item","textAlign","role","display","justifyContent","Meta","avatar","backgroundColor","alignSelf","fileName","_jsxFileName","lineNumber","columnNumber","title","fontSize","color","marginLeft","timestamp","format","description","div","initial","opacity","x","animate","transition","type","stiffness","maxWidth","content","tip","ref","_c","$RefreshReg$"],"sources":["W:/Code/deepseek-r1/frontend/src/components/ChatWindow.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { List, Avatar, Spin } from 'antd';\r\nimport { motion } from 'framer-motion';\r\nimport moment from 'moment';\r\n\r\nconst ChatWindow = ({ chatHistory, loading }) => {\r\n    const endRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        endRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [chatHistory, loading]);\r\n\r\n    return (\r\n        <div style={{ height: '60vh', overflowY: 'auto', padding: '10px', background: '#fff', borderRadius: '5px' }}>\r\n            <List\r\n                dataSource={chatHistory}\r\n                renderItem={(item) => (\r\n                    <List.Item\r\n                        style={{\r\n                            textAlign: item.role === 'user' ? 'right' : 'left',\r\n                            display: 'flex',\r\n                            justifyContent: item.role === 'user' ? 'flex-end' : 'flex-start',\r\n                        }}\r\n                    >\r\n                        <List.Item.Meta\r\n                            avatar={\r\n                                <Avatar\r\n                                    style={{\r\n                                        backgroundColor: item.role === 'user' ? '#87d068' : '#1890ff',\r\n                                        display: 'flex',\r\n                                        alignSelf: item.role === 'user' ? 'flex-end' : 'flex-start',\r\n                                    }}\r\n                                >\r\n                                    {item.role === 'user' ? 'U' : 'AI'}\r\n                                </Avatar>\r\n                            }\r\n                            title={\r\n                                <>\r\n                                    {item.role === 'user' ? '你' : 'AI'}\r\n                                    <span style={{ fontSize: '12px', color: '#888', marginLeft: '8px' }}>\r\n                                        {moment(item.timestamp).format('HH:mm:ss')}\r\n                                    </span>\r\n                                </>\r\n                            }\r\n                            description={\r\n                                <motion.div\r\n                                    initial={{ opacity: 0, x: item.role === 'user' ? 50 : -50 }}\r\n                                    animate={{ opacity: 1, x: 0 }}\r\n                                    transition={{ type: \"spring\", stiffness: 100 }}\r\n                                    style={{\r\n                                        display: 'inline-block',\r\n                                        backgroundColor: item.role === 'user' ? '#87d068' : '#1890ff',\r\n                                        color: '#fff',\r\n                                        padding: '8px 12px',\r\n                                        borderRadius: '15px',\r\n                                        maxWidth: '80%',\r\n                                    }}\r\n                                >\r\n                                    {item.content}\r\n                                </motion.div>\r\n                            }\r\n                        />\r\n                    </List.Item>\r\n                )}\r\n            />\r\n            {loading && (\r\n                <div style={{ textAlign: 'center', padding: '10px' }}>\r\n                    <Spin tip=\"AI 正在思考...\" />\r\n                </div>\r\n            )}\r\n            <div ref={endRef} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatWindow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}